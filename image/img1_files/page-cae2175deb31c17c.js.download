(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[600],{87989:function(e,s,i){Promise.resolve().then(i.t.bind(i,38173,23)),Promise.resolve().then(i.t.bind(i,231,23)),Promise.resolve().then(i.bind(i,22066)),Promise.resolve().then(i.bind(i,66974)),Promise.resolve().then(i.bind(i,10326)),Promise.resolve().then(i.bind(i,87001)),Promise.resolve().then(i.bind(i,82509))},67776:function(e,s,i){"use strict";var a=i(57437);i(2265),s.Z=e=>{let{msg:s}=e;return(0,a.jsx)("div",{style:{color:"red"},children:s})}},10326:function(e,s,i){"use strict";i.d(s,{default:function(){return q}});var a=i(57437),t=i(2265),r=i(66648),l=i(16463),d=i(75764),c=i(80599),n=i(22e3),o=i(71194),p=i(67753),u=i(39343),m=i(44669),v=i(67776);let{useGetReviewByProductIdQuery:h,useSaveReviewMutation:x}=i(73072).g.injectEndpoints({overrideExisting:!0,endpoints:e=>({getReviewByProductId:e.query({query:e=>"/review/product-review/".concat(e),providesTags:["review-by-product"],keepUnusedDataFor:600}),saveReview:e.mutation({query:e=>({url:"/review/save-review",method:"POST",body:e}),invalidatesTags:["review-by-product"]})})});var j=i(44770),b=i(88726);function N(e){var s,i,r;let{productId:l}=e,[d,{isLoading:c,error:n}]=x(),{user:h}=(0,j.C)(e=>e.auth),{register:N,handleSubmit:w,formState:{errors:g},reset:f}=(0,u.cI)({resolver:(0,p.X)(o.$5)}),[y,q]=(0,t.useState)(1),Z=async e=>{try{if(h){let s={productId:l,rating:y,review:e.review,userId:h.id};await d(s).unwrap()&&(b.ZP.success("Review saved successfully"),f())}else{b.ZP.error("Please login first");return}}catch(e){b.ZP.error(e.data.message),console.log(e,"error in review form")}};return(0,a.jsxs)("form",{onSubmit:w(Z),children:[(0,a.jsxs)("div",{className:"tp-product-details-review-form-rating d-flex align-items-center",children:[(0,a.jsx)("p",{children:"Your Rating :"}),(0,a.jsx)("div",{className:"tp-product-details-review-form-rating-icon d-flex align-items-center",children:(0,a.jsx)(m.i,{onClick:e=>{q(e)},size:20,initialValue:y})})]}),(0,a.jsxs)("div",{className:"tp-product-details-review-input-wrapper",children:[(0,a.jsxs)("div",{className:"tp-product-details-review-input-box",children:[(0,a.jsx)("div",{className:"tp-product-details-review-input",children:(0,a.jsx)("textarea",{...N("review"),id:"review",name:"review",placeholder:"Write your review here..."})}),(0,a.jsx)("div",{className:"tp-product-details-review-input-title",children:(0,a.jsx)("label",{htmlFor:"review",children:"Your Review"})}),(0,a.jsx)(v.Z,{msg:null===(s=g.review)||void 0===s?void 0:s.message})]}),(0,a.jsxs)("div",{className:"tp-product-details-review-input-box",children:[(0,a.jsx)("div",{className:"tp-product-details-review-input",children:(0,a.jsx)("input",{...N("name"),name:"name",id:"name",type:"text",placeholder:"Shahnewaz Sakil"})}),(0,a.jsx)("div",{className:"tp-product-details-review-input-title",children:(0,a.jsx)("label",{htmlFor:"name",children:"Your Name"})}),(0,a.jsx)(v.Z,{msg:null===(i=g.name)||void 0===i?void 0:i.message})]}),(0,a.jsxs)("div",{className:"tp-product-details-review-input-box",children:[(0,a.jsx)("div",{className:"tp-product-details-review-input",children:(0,a.jsx)("input",{...N("email"),name:"email",id:"email",type:"email",placeholder:"shofy@mail.com"})}),(0,a.jsx)("div",{className:"tp-product-details-review-input-title",children:(0,a.jsx)("label",{htmlFor:"email",children:"Your Email"})}),(0,a.jsx)(v.Z,{msg:null===(r=g.email)||void 0===r?void 0:r.message})]})]}),(0,a.jsx)("div",{className:"tp-product-details-review-btn-wrapper mt-20",children:(0,a.jsx)("button",{type:"submit",className:"tp-product-details-review-btn",children:"Submit"})})]})}var w=i(69548);function g(e){let{reviews:s,average_rating:i,total_ratings:t,id:r}=e;return(0,a.jsx)("div",{className:"tp-product-details-review-wrapper pt-60",children:(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("div",{className:"col-lg-6",children:(0,a.jsxs)("div",{className:"tp-product-details-review-statics",children:[(0,a.jsxs)("div",{className:"tp-product-details-review-number d-inline-block mb-50",children:[(0,a.jsx)("h3",{className:"tp-product-details-review-number-title",children:"Customer reviews"}),(0,a.jsxs)("div",{className:"tp-product-details-review-summery d-flex align-items-center",children:[(0,a.jsx)("div",{className:"tp-product-details-review-summery-value",children:(0,a.jsx)("span",{children:i})}),(0,a.jsxs)("div",{className:"tp-product-details-review-summery-rating d-flex align-items-center",children:[(0,a.jsx)(c.default,{averageRating:Number(i)}),(0,a.jsxs)("p",{children:["(",t," Reviews)"]})]})]})]}),(0,a.jsxs)("div",{className:"tp-product-details-review-list pr-110",children:[(0,a.jsx)("h3",{className:"tp-product-details-review-title",children:"Rating & Review"}),s&&s.data.map(e=>(0,a.jsx)("div",{className:"tp-product-details-review-avater d-flex align-items-start",children:(0,a.jsxs)("div",{className:"tp-product-details-review-avater-content",children:[(0,a.jsx)("div",{className:"tp-product-details-review-avater-rating d-flex align-items-center",children:(0,a.jsx)(c.default,{averageRating:Number(e.rating)})}),(0,a.jsx)("h3",{className:"tp-product-details-review-avater-title",children:e.user_name}),(0,a.jsxs)("span",{className:"tp-product-details-review-avater-meta",children:[(0,w.p)(e.rating_date)," "]}),(0,a.jsx)("div",{className:"tp-product-details-review-avater-comment",children:(0,a.jsx)("p",{children:e.review})})]})},e.id))]})]})}),(0,a.jsx)("div",{className:"col-lg-6",children:(0,a.jsxs)("div",{className:"tp-product-details-review-form",children:[(0,a.jsx)("h3",{className:"tp-product-details-review-form-title",children:"Review this product"}),(0,a.jsx)("p",{children:"Your email address will not be published. Required fields are marked *"}),(0,a.jsx)(N,{productId:r})]})})]})})}var f=i(23632),y=i(92645);function q(e){let{product:s}=e,{id:i,category_name:o,title:p,image:u,final_price:m,sku:v,slug:x,description:b,average_rating:N,total_ratings:w}=s||{},[q,Z]=(0,t.useState)(!1),{data:_,error:k,isLoading:R}=h(i,{skip:!i}),{wishlists:P}=(0,j.C)(e=>e.wishlist),C=(0,l.useRouter)(),S=(0,j.T)(),E=P.some(e=>e.id===(null==s?void 0:s.id));return(0,a.jsxs)("section",{className:"tp-product-details-area",children:[(0,a.jsx)("div",{className:"tp-product-details-top pb-115",children:(0,a.jsx)("div",{className:"container",children:(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("div",{className:"col-xl-7 col-lg-6",children:(0,a.jsx)("div",{className:"tp-product-details-thumb-wrapper tp-tab d-sm-flex",children:(0,a.jsx)("div",{className:"tab-content m-img",id:"productDetailsNavContent",children:(0,a.jsx)("div",{className:"tp-product-details-nav-main-thumb",children:(0,a.jsx)(r.default,{src:"".concat(u),alt:"product-img",width:680,height:670,style:{width:"100%",height:"100%"}})})})})}),(0,a.jsx)("div",{className:"col-xl-5 col-lg-6",children:(0,a.jsxs)("div",{className:"tp-product-details-wrapper",children:[(0,a.jsx)("div",{className:"tp-product-details-category",children:(0,a.jsx)("span",{children:o})}),(0,a.jsx)("h3",{className:"tp-product-details-title",children:p}),(0,a.jsxs)("div",{className:"tp-product-details-inventory d-flex align-items-center mb-10",children:[(0,a.jsx)("div",{className:"tp-product-details-stock mb-10",children:(0,a.jsx)("span",{children:"In Stock"})}),(0,a.jsxs)("div",{className:"tp-product-details-rating-wrapper d-flex align-items-center mb-10",children:[(0,a.jsx)("div",{className:"tp-product-details-rating",children:(0,a.jsx)(c.default,{averageRating:Number(N)})}),(0,a.jsx)("div",{className:"tp-product-details-reviews",children:(0,a.jsxs)("span",{children:["(",w," Reviews)"]})})]})]}),(0,a.jsxs)("p",{children:[b&&q?b:"".concat((null!=b?b:"").slice(0,200),"... "),(null!=b?b:"").length>100&&(0,a.jsx)("span",{onClick:()=>Z(!q),style:{cursor:"pointer"},children:q?"See less":"See more"})]}),(0,a.jsx)("div",{className:"tp-product-details-price-wrapper mb-20",children:(0,a.jsxs)("span",{className:"tp-product-details-price new-price",children:["$",m]})}),(0,a.jsxs)("div",{className:"tp-product-details-action-wrapper",children:[(0,a.jsx)("h3",{className:"tp-product-details-action-title",children:"Quantity"}),(0,a.jsx)(n.Z,{product:s})]}),(0,a.jsxs)("div",{className:"tp-product-details-action-sm",children:[(0,a.jsxs)("button",{type:"button",className:"tp-product-details-action-sm-btn ".concat(E?"active":""),onClick:()=>{E?C.push("/wishlist"):S((0,y.CZ)({id:s.id,img:s.image,price:Number(s.final_price),quantityAvailable:s.stock,title:s.title}))},children:[(0,a.jsx)(f.s$,{})," "," Add Wishlist"]}),(0,a.jsxs)("button",{type:"button",className:"tp-product-details-action-sm-btn",children:[(0,a.jsx)(f.HN,{})," "," Ask a question"]})]}),(0,a.jsxs)("div",{className:"tp-product-details-query",children:[(0,a.jsxs)("div",{className:"tp-product-details-query-item d-flex align-items-center",children:[(0,a.jsx)("span",{children:"SKU:  "}),(0,a.jsx)("p",{children:v})]}),(0,a.jsxs)("div",{className:"tp-product-details-query-item d-flex align-items-center",children:[(0,a.jsx)("span",{children:"Category:  "}),(0,a.jsx)("p",{children:o})]})]}),(0,a.jsxs)("div",{className:"tp-product-details-social",children:[(0,a.jsx)("span",{children:"Share: "}),(0,a.jsx)(d.Dk,{url:"".concat("https://shofy-grocery-next-js.vercel.app","/shop-details/").concat(x),children:(0,a.jsx)(d.Vq,{size:34,round:!0})}),(0,a.jsx)(d.B,{url:"".concat("https://shofy-grocery-next-js.vercel.app","/shop-details/").concat(x),children:(0,a.jsx)(d.Zm,{size:34,round:!0})}),(0,a.jsx)(d.r2,{url:"".concat("https://shofy-grocery-next-js.vercel.app","/shop-details/").concat(x),children:(0,a.jsx)(d.pA,{size:34,round:!0})}),(0,a.jsx)(d.tq,{url:"".concat("https://shofy-grocery-next-js.vercel.app","/shop-details/").concat(x),children:(0,a.jsx)(d.YG,{size:34,round:!0})})]})]})})]})})}),(0,a.jsx)("div",{className:"tp-product-details-bottom pb-140",children:(0,a.jsx)("div",{className:"container",children:(0,a.jsx)("div",{className:"row",children:(0,a.jsx)("div",{className:"col-xl-12",children:(0,a.jsxs)("div",{className:"tp-product-details-tab-nav tp-tab",children:[(0,a.jsx)("nav",{children:(0,a.jsxs)("div",{className:"nav nav-tabs p-relative tp-product-tab",id:"navPresentationTab",role:"tablist",children:[(0,a.jsx)("button",{className:"nav-link active",id:"nav-description-tab","data-bs-toggle":"tab","data-bs-target":"#nav-description",type:"button",role:"tab","aria-controls":"nav-description","aria-selected":"true",tabIndex:-1,children:"Description"}),(0,a.jsxs)("button",{className:"nav-link",id:"nav-review-tab","data-bs-toggle":"tab","data-bs-target":"#nav-review",type:"button",role:"tab","aria-controls":"nav-review","aria-selected":"false",tabIndex:-1,children:["Reviews (",null==_?void 0:_.data.length,")"]})]})}),(0,a.jsxs)("div",{className:"tab-content",id:"navPresentationTabContent",children:[(0,a.jsx)("div",{className:"tab-pane fade show active",id:"nav-description",role:"tabpanel","aria-labelledby":"nav-description-tab",tabIndex:-1,children:(0,a.jsx)("div",{className:"tp-product-details-desc-wrapper pt-40",children:(0,a.jsx)("div",{className:"row",children:(0,a.jsx)("div",{className:"col-xl-10",children:(0,a.jsx)("div",{className:"tp-product-details-desc-item pb-105",children:(0,a.jsx)("div",{className:"row",children:(0,a.jsx)("div",{className:"col-lg-12",children:(0,a.jsxs)("div",{className:"tp-product-details-desc-content pt-25",children:[(0,a.jsx)("h3",{className:"tp-product-details-desc-title",children:p}),(0,a.jsx)("p",{children:b})]})})})})})})})}),(0,a.jsx)("div",{className:"tab-pane fade",id:"nav-review",role:"tabpanel","aria-labelledby":"nav-review-tab",tabIndex:-1,children:(0,a.jsx)(g,{id:i,average_rating:N,total_ratings:w,reviews:_})})]})]})})})})})]})}},73072:function(e,s,i){"use strict";i.d(s,{g:function(){return l}});var a=i(44785),t=i(8507),r=i(36074);let l=(0,t.LC)({reducerPath:"api",baseQuery:(0,r.ni)({baseUrl:"https://shofy-grocery-backend.vercel.app/api/v1",prepareHeaders:async(e,s)=>{let{getState:i,endpoint:t}=s;try{let s=a.Z.get("userInfo");if(s){let i=JSON.parse(s);(null==i?void 0:i.accessToken)&&e.set("Authorization","Bearer ".concat(i.accessToken))}}catch(e){console.error("Error parsing user info:",e)}return e}}),endpoints:e=>({}),tagTypes:["all-category","all-products","all-coupons","review-by-product","user-orders"]})},71194:function(e,s,i){"use strict";i.d(s,{$5:function(){return c},$h:function(){return l},OD:function(){return d},dm:function(){return r},gY:function(){return t}});var a=i(14245);let t=a.Ry().shape({name:a.Z_().required("Name is required").label("Name"),email:a.Z_().required("Email is required").email("Email must be valid").label("Email"),password:a.Z_().required("Password is required").min(6,"Password must be at least 6 characters").label("Password"),remember:a.Xg().oneOf([!0],"You must agree to the terms and conditions to proceed.").required("You must agree to the terms and conditions to proceed.").label("Terms and Conditions")}),r=a.Ry().shape({email:a.Z_().required().email().label("Email"),password:a.Z_().required().min(6).label("Password")}),l=a.Ry().shape({fname:a.Z_().required().label("First Name"),lname:a.Z_().required().label("Last Name"),company:a.Z_().label("Company"),state:a.Z_().required().label("State"),address:a.Z_().required().label("Address"),city:a.Z_().required().label("City"),country:a.Z_().required().label("Country"),zipCode:a.Z_().required().label("zipCode"),phone:a.Z_().required().label("Phone"),email:a.Z_().required().email().label("Email"),orderNote:a.Z_().label("Order Note")}),d=a.Ry().shape({name:a.Z_().required().label("Name"),email:a.Z_().required().email().label("Email"),subject:a.Z_().required().label("Subject"),msg:a.Z_().required().label("Message")}),c=a.Ry().shape({review:a.Z_().required().label("Review"),name:a.Z_().required().label("Name"),email:a.Z_().required().email().label("Email")})}},function(e){e.O(0,[360,414,507,764,824,971,23,744],function(){return e(e.s=87989)}),_N_E=e.O()}]);